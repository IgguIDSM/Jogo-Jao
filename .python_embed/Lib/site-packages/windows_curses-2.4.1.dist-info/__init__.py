from _curses import *

def wrapper(func, *args, **kwds):
    import curses
    import sys

    # Initialize curses
    stdscr = initscr()
    noecho()
    cbreak()
    stdscr.keypad(True)

    try:
        return func(stdscr, *args, **kwds)
    finally:
        # Shutdown curses cleanly
        stdscr.keypad(False)
        echo()
        nocbreak()
        endwin()